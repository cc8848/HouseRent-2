<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Thu Nov 06 08:52:42 UTC 2014 -->
<TITLE>
PdfExport (SmartClient v9.1p_2014-11-06/Pro Deployment)
</TITLE>

<META NAME="date" CONTENT="2014-11-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PdfExport (SmartClient v9.1p_2014-11-06/Pro Deployment)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/isomorphic/contentexport/ImageExport.html" title="class in com.isomorphic.contentexport"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/isomorphic/contentexport/PdfExport.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PdfExport.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.isomorphic.contentexport</FONT>
<BR>
Class PdfExport</H2>
<PRE>
<B>com.isomorphic.contentexport.PdfExport</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../com/isomorphic/rpc/IPdfExporter.html" title="interface in com.isomorphic.rpc">IPdfExporter</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>PdfExport</B><DT>implements <A HREF="../../../com/isomorphic/rpc/IPdfExporter.html" title="interface in com.isomorphic.rpc">IPdfExporter</A></DL>
</PRE>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/isomorphic/contentexport/PdfExport.html#getPdfObject(java.lang.String, java.util.Map, javax.servlet.http.HttpServletResponse, com.isomorphic.rpc.RPCManager)">getPdfObject</A></B>(java.lang.String&nbsp;html,
             java.util.Map&nbsp;settings,
             javax.servlet.http.HttpServletResponse&nbsp;response,
             <A HREF="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc">RPCManager</A>&nbsp;rpc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts the provided HTML to a PDF object and streams the response back to the browser
 as the response to an RPCRequest/DSRequest.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.xhtmlrenderer.pdf.ITextRenderer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/isomorphic/contentexport/PdfExport.html#getPdfRenderer(java.lang.String, java.util.Map)">getPdfRenderer</A></B>(java.lang.String&nbsp;html,
               java.util.Map&nbsp;settings)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to create an ITextRenderer object ready to generate a PDF object.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getPdfObject(java.lang.String, java.util.Map, javax.servlet.http.HttpServletResponse, com.isomorphic.rpc.RPCManager)"><!-- --></A><H3>
getPdfObject</H3>
<PRE>
public void <B>getPdfObject</B>(java.lang.String&nbsp;html,
                         java.util.Map&nbsp;settings,
                         javax.servlet.http.HttpServletResponse&nbsp;response,
                         <A HREF="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc">RPCManager</A>&nbsp;rpc)
                  throws java.lang.Exception</PRE>
<DL>
<DD>Converts the provided HTML to a PDF object and streams the response back to the browser
 as the response to an RPCRequest/DSRequest.
 <P>
 For additional methods, including the ability to generate a .pdf that 
 be saved to a database or emailed rather than streamed to the client, 
 see <A HREF="../../../com/isomorphic/contentexport/PdfExport.html#getPdfRenderer(java.lang.String, java.util.Map)"><CODE>PdfExport.getPdfRenderer(String, Map)</CODE></A>
 <P>
 When the provided HTML contains &lt;img&gt; tags, such as when an Img widget is to be
 included in the PDF export, SmartClient Server Framework needs to be able to download
 the image for inclusion in the PDF. If images are not appearing in an exported PDF,
 examine the server's log output for information on why an image request failed.
 Common ResourceLoader errors include:
 <ul>
 <li><code>Failed to download http://MY_HOST:PORT/SOME_IMAGE.png: java.net.ConnectException: Connection refused</code>
     <p>The server was unable to connect to the server at MY_HOST:PORT.
     <p>One possible cause is that the server is not bound on all addresses (also called "listening on all addresses").
        If you are using JBoss, refer to <a href="https://community.jboss.org/wiki/configureserverports">ConfigureServerPorts</a>
        for more information on JBoss' <code>-b</code> command line option. When developing within Eclipse and deploying to the
        internal Web Server, try using the <code>-bindAddress 0.0.0.0</code> <a href="https://developers.google.com/web-toolkit/doc/latest/DevGuideCompilingAndDebugging#What_options_can_be_passed_to_development_mode">Development Mode option</a>.
     <p>Another possible cause is that port forwarding is not set up correctly or
        the <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html">Java networking API's proxy settings</a> need to be configured.</li>
 <li><code>Failed to download http://SOME_HOST/PROTECTED_RESOURCE.png: java.io.IOException: Server returned HTTP response code: 401</code>
     <p>The server responded with a 401 Unauthorized response code.
     <p>The SOME_HOST server is requiring authorization, but needs to pass through requests
        made by the SmartClient Server Framework.</li>
 <li><code>Failed to download http://SOME_HOST/SOME_IMAGE.png: java.io.IOException: Server returned HTTP response code: 404</code>
     <p>The SOME_HOST server responded with a 404 Not Found response code.
     <p>This may happen if requests for the image need to go through a reverse proxy.
        Refer to <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html">http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html</a>
        for a guide on configuring the Java networking API's proxy settings.</li>
 </ul>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/isomorphic/rpc/IPdfExporter.html#getPdfObject(java.lang.String, java.util.Map, javax.servlet.http.HttpServletResponse, com.isomorphic.rpc.RPCManager)">getPdfObject</A></CODE> in interface <CODE><A HREF="../../../com/isomorphic/rpc/IPdfExporter.html" title="interface in com.isomorphic.rpc">IPdfExporter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>html</CODE> - generated html from client-side<DD><CODE>settings</CODE> - map of parameters<DD><CODE>response</CODE> - in this parameter we send the answer<DD><CODE>rpc</CODE> - our RPCManager parameter
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPdfRenderer(java.lang.String, java.util.Map)"><!-- --></A><H3>
getPdfRenderer</H3>
<PRE>
public org.xhtmlrenderer.pdf.ITextRenderer <B>getPdfRenderer</B>(java.lang.String&nbsp;html,
                                                          java.util.Map&nbsp;settings)
                                                   throws java.lang.Exception</PRE>
<DL>
<DD>Method to create an ITextRenderer object ready to generate a PDF object.
 With the ITextRenderer object, you can use any OutputStream object to generate a PDF object, eg.:
 To generate a PDF file from this ITextRenderer object, you can make:
 <br>
 server-side:
 <pre>
 public String generatePdf(DSRequest request) {
     String response = "Operation completed successfully";
     try {
         Map data = request.getValues();
         Map settings = new HashMap();
         settings.put("skinName", data.get("skinName").toString());
         String dirServer = "/shared/directoryPdf/";
         String fileName = "default";
         String outputFile = dirServer+fileName+".pdf";
         OutputStream outputSream = new FileOutputStream(outputFile);
         PdfExport export = new PdfExport();
         ITextRenderer renderer = export.getPdfRenderer(data.get("html").toString(), settings);
         renderer.createPDF(outputSream);
         outputSream.close();
     }catch (Exception e) {
         e.printStackTrace();
         response = e.getMessage();
     }
     return response;
 }
 </pre>
 You can use DataSource.performCustomOperation() in client-side to invoke your custom method in server-side, eg.:
 <pre>
 ...........
 vLayout.getPrintHTML(null, new PrintHTMLCallback(){
     public void setHTML(String html) {
         DSRequest request = new DSRequest();
         LinkedHashMap data = new LinkedHashMap();
         data.put("html", html);
         data.put("skinName", "Enterprise");
         request.setData(data);
         ds.performCustomOperation("generatePdf", new Record(), new DSCallback() {
             public void execute(DSResponse response, Object rawData, DSRequest request) {
                 SC.say((String)rawData);
             }
         }, request);
     }
 });
 </pre>
 and the .ds.xml DataSource would be something like this:
 <pre>
 <code>&lt;DataSource ID="supplyItem&gt;
 &lt;fields&gt;
     ..........
 &lt;/fields&gt;
 &lt;operationBindings&gt;
     &lt;operationBinding operationId="generatePdf" operationType="custom" serverMethod="generatePdf"&gt;
         &lt;serverObject lookupStyle="new" className="com.smartgwt.sample.server.CustomOperation"/&gt;
     &lt;/operationBinding&gt;
 &lt;/operationBindings&gt;
 &lt;/DataSource&gt;
 </code>
 </pre>
 <P>
 If required, it is possible to use an extra stylesheet. To make the extra stylesheet 
 available for this process, follow these steps:
 <br>
 1.- In server.properties, set:<br>
 skin.[skinName].extraStyleSheet: path/to/stylesheet/[extraStyleSheet.css]<br>
 Eg.: skin.Enterprise.extraStyleSheet: dirSkins/mySkins/myStyleSheet.css<br>
 The dirSkins/ folder must be placed under webroot.<br>
 2.- When using images within the extra stylesheet, these images must be placed in, for example:<br>
 - dirSkins/mySkins/images/picture1.png (as in the previous example)<br>
 Or, when these images are in a different folder other than the extra stylesheet:<br>
 - myCustomImages/48x48/picture1.png (The myCustomImages/ folder must be placed under webroot) 
 <P>
 <b>- Internationalization and Fonts with PDFs and iText</b>
 <P>
 When you are displaying HTML content in the browser, and you use
 non-Latin Unicode characters such as Japanese characters or Cyrillic
 letters, web browsers will automatically locate and use a font that includes
 these characters.
 <P>
 PDF generation doesn't work this way.  When you declare in CSS that
 text content in your HTML is rendered with a certain font-family, that
 font-family is what iText will use, even if the font file for that font-family
 has no support for some of the characters in your text.  Unfortunately,
 the default font files included with iText for Arial and other common web
 fonts do not include support for many non-Latin characters, including
 Cyrillic and CJK (Chinese Japanese Korean) characters.
 <P>
 To get around this problem, you need to provide a font file that has support
 for international characters, and explicitly tell iText to use it.  For example,
 the ARIALUNI.TFF file that exists in standard Windows installations has a
 font-family "Arial Unicode MS" with support for all Unicode 2.0 characters.
 <P>
 To use this file, you would provide an extraStyleSheet with a declaration like this:
 <pre>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>html</CODE> - generated html from client-side<DD><CODE>settings</CODE> - map of parameters
<DT><B>Returns:</B><DD>ITextRenderer
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/isomorphic/contentexport/ImageExport.html" title="class in com.isomorphic.contentexport"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/isomorphic/contentexport/PdfExport.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PdfExport.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
